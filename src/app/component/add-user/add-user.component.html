<h2 mat-dialog-title class="modal-header">{{ title }}</h2>
<form [formGroup]="empForm" (ngSubmit)="saveUser()">
  <div mat-dialog-content class="modal-body">
    <div class="form-container">
      <div class="form-row">
        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Departamento</mat-label>
          <mat-select formControlName="department_id" required>
            <mat-option>--</mat-option>
            @for (dept of departments; track dept) {
            <mat-option [value]="dept.id">{{ dept.nombre }}</mat-option>
            }
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Cargo</mat-label>
          <mat-select formControlName="position_id" required>
            <mat-option>--</mat-option>
            @for (post of positions; track post) {
            <mat-option [value]="post.id">{{ post.nombre }}</mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Usuario</mat-label>
          <input matInput formControlName="username" />
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Correo</mat-label>
          <input matInput formControlName="email" type="email" />
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Nombre(s)</mat-label>
          <input matInput formControlName="first_name" />
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Apellido(s)</mat-label>
          <input matInput formControlName="last_name" />
        </mat-form-field>
      </div>
    </div>
  </div>
  <div mat-dialog-actions class="modal-footer">
    <button mat-raised-button type="submit" class="btn-primary">{{ buttonText }}</button>
    <button mat-button (click)="closeModal()" class="btn-secondary">Cancelar</button>
  </div>
</form>


